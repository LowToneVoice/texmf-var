\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
% \usepackage[style=phys,articletitle=false,biblabel=brackets,chaptertitle=false,pageranges=false]{biblatex} % APS style
\usepackage{bm}
\usepackage{booktabs}
\usepackage{color}
\usepackage{subfiles}
\usepackage[dvipdfmx]{graphicx}
\usepackage{mathrsfs}
\usepackage{physics}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{tcolorbox}
\usepackage{url}

\usepackage{hyperref}
% \usepackage{mathrsfs}
\usepackage{pxjahyper}
\usepackage{cleveref}
\usepackage{autonum}

\usetikzlibrary{
    intersections,
    decorations,
    calc,
    patterns,
    through,
    positioning,
    arrows,
    shapes,
    backgrounds,
    cd,
    spath3,
    knots
}

% equation numbering
\numberwithin{equation}{section}

\crefname{figure}{Fig.}{Figs.}
\crefname{table}{Tbl.}{Tbls.}
\crefname{section}{Sec.}{Secs.}
\crefname{subsection}{Sec.}{Secs.}
\crefname{subsubsection}{Sec.}{Secs.}

% theorem environments
\tcbuselibrary{breakable, skins, theorems}
\theoremstyle{definition}

\newtcbtheorem[crefname={Def.}{Defs.}]{dfn}{Def.}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=blue, colback=white},
    coltitle=black,
    colback=white,
    colframe=blue,
    fonttitle=\bfseries,
    top=4mm
}{def}

\newtcbtheorem[crefname={Thm.}{Thms.}]{thm}{Thm.}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=red, colback=white},
    coltitle=black,
    colback=white,
    colframe=red,
    fonttitle=\bfseries,
    top=4mm
}{prop}

\newtcbtheorem[crefname={Lem.}{Lems.}]{lem}{Lem.}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=red, colback=white},
    coltitle=black,
    colback=white,
    colframe=red,
    fonttitle=\bfseries,
    top=4mm
}{prop}

\newtcbtheorem[crefname={Cor.}{Cors.}]{cor}{Cor.}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=red, colback=white},
    coltitle=black,
    colback=white,
    colframe=red,
    fonttitle=\bfseries,
    top=4mm
}{prop}

\newtcbtheorem[crefname={Prop.}{Props.}]{prop}{Prop.}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=red, colback=white},
    coltitle=black,
    colback=white,
    colframe=red,
    fonttitle=\bfseries,
    top=4mm
}{prop}
% \crefname{prop}{Prop.}{Props.}

\newtcbtheorem[crefname={Problem}{Problems}]{prob}{Problem}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=black, colback=white},
    coltitle=black,
    colback=white,
    colframe=black,
    fonttitle=\bfseries,
    top=4mm
}{prob}

\newtcbtheorem[crefname={Assump.}{Assumps.}]{assump}{Assumps.}{
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=black, colback=white},
    coltitle=black,
    colback=white,
    colframe=black,
    fonttitle=\bfseries,
    top=4mm
}{assump}

\newenvironment{prf}[1]{\begin{tcolorbox}[
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=black, colback=white},
    coltitle=black,
    colback=white,
    colframe=black,
    fonttitle=\bfseries,
    top=4mm,
    title={\textbf{Prf. {#1}}},
]}{\end{tcolorbox}}

\newenvironment{remark}{\begin{tcolorbox}[
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=green!50!black, colback=white},
    coltitle=black,
    colback=white,
    colframe=green!50!black,
    fonttitle=\bfseries,
    top=4mm,
    title={\textbf{Rem.}}
]}{\end{tcolorbox}}

\newenvironment{eg}[1]{\begin{tcolorbox}[
    enhanced,
    breakable,
    attach boxed title to top left={xshift=5mm, yshift=-3mm},
    boxed title style={colframe=green!50!black, colback=white},
    coltitle=black,
    colback=white,
    colframe=green!50!black,
    fonttitle=\bfseries,
    top=4mm,
    title={\textbf{Example {#1}}}
]}{\end{tcolorbox}}
\crefname{eg}{Exmaple}{Examples}


% font color
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\purple}[1]{\textcolor{purple}{#1}}
\newcommand{\green}[1]{\textcolor{teal}{#1}}



% math symbols and objects
\newcommand{\bbN}{\mathbb{N}}
\newcommand{\bbQ}{\mathbb{Q}}
\newcommand{\bbZ}{\mathbb{Z}}
\newcommand{\bbR}{\mathbb{R}}
\newcommand{\bbC}{\mathbb{C}}

\newcommand{\Ob}{\mathrm{Ob}}
\newcommand{\Hom}{\mathrm{Hom}}

% math operators
\newcommand{\downin}{\rotatebox{90}{$\in$}}
